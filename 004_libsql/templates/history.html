{% extends "layout.html"%} {% block content %}
<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead class="thead-dark">
        <tr>
            <th>#</th>
            <th>User</th>
            <th>Book</th>
            <th>Date</th>
            <th>Returned</th>
        </tr>
        </thead>
        <tbody>
        {% for hist in history %}
        <tr>
            <td>{{ hist.id }}</td>
            <td>{{ hist.user }}</td>
            <td>{{ hist.book }}</td>
            <td>{{ hist.date }}</td>
            <td> {% if hist.returned is sameas true %}
                <button
                        type="submit"
                        class="btn btn-success"
                >
                    Returned
                </button>
                {% else %}
                <form action="{{url_for('return_book', uid_user=hist.user.uid, uid_book=hist.book.uid)}}" method="post">
                    <button
                            type="submit"
                            class="btn btn-danger"
                    >
                        Return
                    </button>
                </form>
                {% endif %}
            </td>

        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}